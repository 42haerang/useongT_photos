<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>느좋 송우성T 화보집</title>

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      height:100%;
      background:#0f0f10;color:#e9ecef;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Arial,sans-serif;
      overflow:hidden;
    }

    /* 배경 */
    .bgwrap{position:fixed;inset:0;z-index:-1;}
    .bgwrap .bg{position:absolute;inset:0;background-size:cover;background-position:center;
      opacity:0;transition:opacity 1.2s ease;filter:brightness(.9) contrast(1.03) saturate(1.02);}
    .bgwrap .bg.show{opacity:.9}

    header{
      position:fixed;top:0;left:0;right:0;
      padding:18px 16px 10px;
      background:rgba(15,15,16,.7);backdrop-filter:blur(8px);
      border-bottom:1px solid #26282c;z-index:10
    }
    header h1{margin:0;font-size:20px}

    /* 가로 슬라이드 구조 */
    .album{
      display:flex;
      height:100vh;
      transition:transform .6s ease;
      touch-action:pan-y;
    }
    .dragging .album{transition:none;}

    .card{
      flex:0 0 100vw;
      height:100vh;
      display:flex;align-items:center;justify-content:center;
      position:relative;
    }

    /* 표지 스타일 */
    .cover{
      background:#111;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
    }
    .cover h2{font-size:2.5em;letter-spacing:2px}
    .cover p{margin-top:0.8em;color:#aaa}

    .cardBox{
      position:relative;width:100%;height:100%;
      background-image:var(--bgimg);
      background-size:cover;background-position:center;
      filter:brightness(.95) saturate(1.02);
    }
    .photoWrap{
      position:absolute;left:50%;top:50%;
      width:min(calc(var(--size,1)*80%), calc(var(--size,1)*420px));
      transform:translate(-50%,-50%) rotate(var(--rot));
    }
    .photoWrap img{
      width:100%;height:auto;display:block;border-radius:12px;
      box-shadow:0 10px 26px rgba(0,0,0,.35);
      user-select:none;-webkit-user-drag:none;
    }
    .photoWrap .frame{
      position:absolute;inset:-6px;border:2px solid rgba(255,255,255,.85);
      border-radius:16px;pointer-events:none;
    }
  </style>
</head>
<body>
  <div class="bgwrap">
    <div class="bg" id="bg1"></div>
    <div class="bg" id="bg2"></div>
  </div>

  <header>
    <h1>느좋 송우성T 화보집</h1>
  </header>

  <main class="stage">
    <div class="album" id="album"></div>
  </main>

  <script>
    /* 사진 목록 */
    const images = [
      {src:'01.jpg', size:0.85},
      {src:'02.jpg', size:0.90},
      {src:'03.jpg', size:0.78},
      {src:'04.jpg', size:0.80},
      {src:'05.jpg', size:0.82},
      {src:'06.jpg', size:0.88},
      {src:'07.jpg', size:0.83},
      {src:'08.jpg', size:0.92}
    ];
    const backgrounds=[...Array(8)].map((_,i)=>`bg${i+1}.jpg`);

    /* 배경 크로스페이드 */
    const bg1=document.getElementById('bg1'), bg2=document.getElementById('bg2');
    let bgIndex=1, bgShowing=0;
    const applyBg=()=>{
      const next=backgrounds[bgIndex%backgrounds.length];
      if(bgShowing===0){
        bg2.style.backgroundImage=`url(${next})`;
        bg2.classList.add('show'); bg1.classList.remove('show'); bgShowing=1;
      }else{
        bg1.style.backgroundImage=`url(${next})`;
        bg1.classList.add('show'); bg2.classList.remove('show'); bgShowing=0;
      }
      bgIndex++;
    };
    bg1.style.backgroundImage=`url(${backgrounds[0]})`;
    bg1.classList.add('show');
    setInterval(applyBg, 10000);

    /* 표지 + 카드 생성 */
    const album=document.getElementById('album');
    const cover = `
      <article class="card cover">
        <h2>느좋 송우성T 화보집</h2>
        <p>동해물과 백두산갱</p>
      </article>`;
    const cards = images.map((it,idx)=>{
      const rot=(idx%2===0?'-':'') + '17deg';
      const bgurl=backgrounds[idx%backgrounds.length];
      return `
        <article class="card" data-idx="${idx}">
          <div class="cardBox" style="--bgimg:url('${bgurl}')">
            <div class="photoWrap" style="--rot:${rot}; --size:${it.size}">
              <img src="${it.src}" alt="photo${idx+1}">
              <span class="frame"></span>
            </div>
          </div>
        </article>`;
    }).join('');
    album.innerHTML = cover + cards;

    /* 좌우 드래그로 슬라이드 */
    let index=0;
    const total=images.length+1;
    const snap=()=>album.style.transform=`translateX(-${index*100}vw)`;
    snap();

    let startX=0, curX=0, dragging=false;
    const threshold = ()=>Math.min(80, window.innerWidth*0.18);

    const startDrag=x=>{dragging=true;startX=curX=x;document.body.classList.add('dragging');};
    const moveDrag=x=>{if(!dragging)return;curX=x;const dx=curX-startX;album.style.transform=`translateX(calc(-${index*100}vw + ${dx}px))`;};
    const endDrag=()=>{if(!dragging)return;dragging=false;document.body.classList.remove('dragging');const dx=curX-startX;
      if(dx<-threshold() && index<total-1) index++;
      else if(dx>threshold() && index>0) index--;
      snap();
    };

    album.addEventListener('touchstart',e=>startDrag(e.touches[0].clientX),{passive:true});
    album.addEventListener('touchmove',e=>moveDrag(e.touches[0].clientX),{passive:true});
    album.addEventListener('touchend',endDrag);
    album.addEventListener('mousedown',e=>startDrag(e.clientX));
    window.addEventListener('mousemove',e=>moveDrag(e.clientX));
    window.addEventListener('mouseup',endDrag);
  </script>
</body>
</html>
