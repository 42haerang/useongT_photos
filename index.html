<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>느좋 송우성T 화보집</title>

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      height:100%;
      background:#0f0f10;color:#e9ecef;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Arial,sans-serif;
      overflow:hidden;
    }

    /* ===== 배경 크로스페이드 ===== */
    .bgwrap{position:fixed;inset:0;z-index:-1;}
    .bgwrap .bg{
      position:absolute;inset:0;
      background-size:cover;background-position:center;
      opacity:0;transition:opacity 1.2s ease;
      filter:brightness(.9) contrast(1.03) saturate(1.02);
    }
    .bgwrap .bg.show{opacity:.9}

    header{
      position:fixed;top:0;left:0;right:0;
      padding:18px 16px 10px;
      background:rgba(15,15,16,.7);backdrop-filter:blur(8px);
      border-bottom:1px solid #26282c;z-index:10;
    }
    header h1{margin:0;font-size:20px}

    /* ===== 앨범 (가로 슬라이드) ===== */
    .album{
      display:flex;
      height:100vh;
      transition:transform .6s ease;
      touch-action:pan-y;
    }
    .dragging .album{transition:none;}
    .card{
      flex:0 0 100vw;height:100vh;
      display:flex;align-items:center;justify-content:center;
      position:relative;
    }

    /* ===== 표지 (야경, 밝은 하단 강조) ===== */
    .card.cover{overflow:hidden;}
    .card.cover .coverBg{
      position:absolute;inset:0;
      background-image:url('fbg.jpg');
      background-size:cover;background-position:center;
      /* 전체적으로 조금 더 밝고 선명하게 */
      filter:blur(2px) brightness(.95) contrast(1.08) saturate(1.15);
      transform:scale(1.03);
    }
    .card.cover .coverShade::before,
    .card.cover .coverShade::after{
      content:"";position:absolute;inset:0;pointer-events:none;
    }
    .card.cover .coverShade::before{
      /* 상단 어둡게, 하단은 살짝 밝게 */
      background:
        linear-gradient(180deg, rgba(0,0,0,.45) 0%, rgba(0,0,0,.35) 50%, rgba(255,220,140,.18) 100%);
      mix-blend-mode:overlay;
    }
    .card.cover .coverShade::after{
      /* 하단쪽 따뜻한 빛 강조 */
      background:
        radial-gradient(60% 25% at 50% 95%, rgba(255,220,120,.3), transparent 70%);
      mix-blend-mode:screen;
    }

    /* 글자 하단 정렬 */
    .card.cover .coverInner{
      position:absolute;
      bottom:8vh;
      left:50%;
      transform:translateX(-50%);
      z-index:1;
      text-align:center;
      width:100%;
    }
    .card.cover h2{
      font-size:clamp(28px,7vw,54px);
      font-weight:700;
      color:#f7f8ff;
      text-shadow:
        0 2px 12px rgba(0,0,0,.6),
        0 0 24px rgba(160,180,255,.25);
    }
    .card.cover p{
      margin-top:.7em;
      color:#d9deff;opacity:.9;
      text-shadow:0 2px 10px rgba(0,0,0,.45);
    }

    /* ===== 카드 (기울어진 사진 유지) ===== */
    .cardBox{
      position:relative;width:100%;height:100%;
      background-image:var(--bgimg);
      background-size:cover;background-position:center;
      filter:brightness(1) contrast(1.05) saturate(1.08);
    }
    .cardBox .bgTint{
      position:absolute;inset:0;pointer-events:none;
      background:
        linear-gradient(180deg, rgba(0,0,0,.14), rgba(0,0,0,.25)),
        radial-gradient(50% 40% at 50% 40%, rgba(0,0,0,.15), transparent 60%);
    }
    .photoWrap{
      position:absolute;left:50%;top:50%;
      width:min(calc(var(--size,1)*80%), calc(var(--size,1)*420px));
      transform:translate(-50%,-50%) rotate(var(--rot));
    }
    .photoWrap img{
      width:100%;height:auto;display:block;border-radius:12px;
      box-shadow:0 10px 26px rgba(0,0,0,.35);
      user-select:none;-webkit-user-drag:none;background:#0b0b0c;
    }
    .photoWrap .frame{
      position:absolute;inset:-6px;border:2px solid rgba(255,255,255,.85);
      border-radius:16px;pointer-events:none;
    }
  </style>
</head>
<body>
  <div class="bgwrap">
    <div class="bg" id="bg1"></div>
    <div class="bg" id="bg2"></div>
  </div>

  <header><h1>느좋 송우성T 화보집</h1></header>

  <main class="stage">
    <div class="album" id="album"></div>
  </main>

  <script>
    /* ===== 이미지 세팅 ===== */
    const images = [
      {src:'01.jpg', size:0.85},
      {src:'02.jpg', size:0.90},
      {src:'03.jpg', size:0.78},
      {src:'04.jpg', size:0.80},
      {src:'05.jpg', size:0.82},
      {src:'06.jpg', size:0.88},
      {src:'07.jpg', size:0.83},
      {src:'08.jpg', size:0.92}
    ];
    const backgrounds = [...Array(8)].map((_,i)=>`bg${i+1}.jpg`);

    /* ===== 배경 크로스페이드 ===== */
    const bg1=document.getElementById('bg1'), bg2=document.getElementById('bg2');
    let bgIndex=1, bgShowing=0;
    const applyBg=()=>{
      const next=backgrounds[bgIndex%backgrounds.length];
      if(bgShowing===0){
        bg2.style.backgroundImage=`url(${next})`;
        bg2.classList.add('show'); bg1.classList.remove('show'); bgShowing=1;
      }else{
        bg1.style.backgroundImage=`url(${next})`;
        bg1.classList.add('show'); bg2.classList.remove('show'); bgShowing=0;
      }
      bgIndex++;
    };
    bg1.style.backgroundImage=`url(${backgrounds[0]})`;
    bg1.classList.add('show');
    setInterval(applyBg, 10000);

    /* ===== 표지 + 카드 생성 ===== */
    const album=document.getElementById('album');
    const cover=`
      <article class="card cover">
        <div class="coverBg" aria-hidden="true"></div>
        <div class="coverShade" aria-hidden="true"></div>
        <div class="coverInner">
          <h2>느좋 송우성T 화보집</h2>
          <p>한 장씩 넘겨보는 슬라이드북</p>
        </div>
      </article>`;
    const cards=images.map((it,idx)=>{
      const rot=(idx%2===0?'-':'')+'17deg';
      const bgurl=backgrounds[idx%backgrounds.length];
      return`
        <article class="card" data-idx="${idx}">
          <div class="cardBox" style="--bgimg:url('${bgurl}')">
            <span class="bgTint" aria-hidden="true"></span>
            <div class="photoWrap" style="--rot:${rot}; --size:${it.size}">
              <img src="${it.src}" alt="photo${idx+1}">
              <span class="frame"></span>
            </div>
          </div>
        </article>`;
    }).join('');
    album.innerHTML = cover + cards;

    /* ===== 가로 드래그 슬라이드 ===== */
    let index=0;
    const total=images.length+1;
    const snap=()=>album.style.transform=`translateX(-${index*100}vw)`;
    snap();
    let startX=0, curX=0, dragging=false;
    const threshold=()=>Math.min(80,window.innerWidth*0.18);

    const startDrag=x=>{dragging=true;startX=curX=x;document.body.classList.add('dragging');};
    const moveDrag=x=>{if(!dragging)return;curX=x;const dx=curX-startX;
      album.style.transform=`translateX(calc(-${index*100}vw + ${dx}px))`;};
    const endDrag=()=>{if(!dragging)return;dragging=false;document.body.classList.remove('dragging');
      const dx=curX-startX;
      if(dx<-threshold()&&index<total-1)index++;
      else if(dx>threshold()&&index>0)index--;
      snap();
    };

    album.addEventListener('touchstart',e=>startDrag(e.touches[0].clientX),{passive:true});
    album.addEventListener('touchmove',e=>moveDrag(e.touches[0].clientX),{passive:true});
    album.addEventListener('touchend',endDrag);
    album.addEventListener('mousedown',e=>startDrag(e.clientX));
    window.addEventListener('mousemove',e=>moveDrag(e.clientX));
    window.addEventListener('mouseup',endDrag);
  </script>
</body>
</html>
